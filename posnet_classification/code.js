var _0x373a=['poseNet','hide','waiting\x20to\x20train\x20model','option','add\x20example','mousePressed','classification','neuralNetwork','normalizeData','train','length','html','label','confidence','pose','keypoints','push','position','log','size'];(function(_0x365f0e,_0x1d9bcc){var _0x485c83=function(_0x876ec1){while(--_0x876ec1){_0x365f0e['push'](_0x365f0e['shift']());}};_0x485c83(++_0x1d9bcc);}(_0x373a,0x153));var _0x5c44=function(_0x5dcba1,_0x160b0e){_0x5dcba1=_0x5dcba1-0x0;var _0x63a8b9=_0x373a[_0x5dcba1];return _0x63a8b9;};let video;let poseNet;let poses=[];let brain;let dataButton;let dataLabel;let trainButton;let classificationP;function setup(){createCanvas(0x140,0xf0);video=createCapture(VIDEO);video[_0x5c44('0x0')](width,height);poseNet=ml5[_0x5c44('0x1')](video,modelReady);poseNet['on']('pose',function(_0x29c4ec){poses=_0x29c4ec;});video[_0x5c44('0x2')]();classificationP=createP(_0x5c44('0x3'));dataLabel=createSelect();dataLabel[_0x5c44('0x4')]('A');dataLabel[_0x5c44('0x4')]('B');dataButton=createButton(_0x5c44('0x5'));dataButton[_0x5c44('0x6')](addExample);trainButton=createButton('train\x20model');trainButton[_0x5c44('0x6')](trainModel);let _0x48cc89={'inputs':0x22,'outputs':0x2,'task':_0x5c44('0x7'),'debug':!![]};brain=ml5[_0x5c44('0x8')](_0x48cc89);}function trainModel(){brain[_0x5c44('0x9')]();let _0x263dd5={'epochs':0x19};brain[_0x5c44('0xa')](_0x263dd5,finishedTraining);}function finishedTraining(){classify();}function classify(){if(poses[_0x5c44('0xb')]>0x0){let _0x280bbc=getInputs();brain['classify'](_0x280bbc,gotResults);}}function gotResults(_0x46c7f9,_0x2d509b){classificationP[_0x5c44('0xc')](_0x2d509b[0x0][_0x5c44('0xd')]+'\x20('+floor(_0x2d509b[0x0][_0x5c44('0xe')]*0x64)+')%');classify();}function getInputs(){let _0x2e47bd=poses[0x0][_0x5c44('0xf')][_0x5c44('0x10')];let _0x10793e=[];for(let _0x4c9902=0x0;_0x4c9902<_0x2e47bd[_0x5c44('0xb')];_0x4c9902++){_0x10793e[_0x5c44('0x11')](_0x2e47bd[_0x4c9902][_0x5c44('0x12')]['x']);_0x10793e[_0x5c44('0x11')](_0x2e47bd[_0x4c9902][_0x5c44('0x12')]['y']);}return _0x10793e;}function addExample(){if(poses[_0x5c44('0xb')]>0x0){let _0x261462=getInputs();let _0x319b72=dataLabel['value']();brain['addData'](_0x261462,[_0x319b72]);}}function modelReady(){console[_0x5c44('0x13')]('model\x20loaded');}function draw(){image(video,0x0,0x0,width,height);strokeWeight(0x2);if(poses[_0x5c44('0xb')]>0x0){let _0x3f6eef=poses[0x0][_0x5c44('0xf')];for(let _0x3bb388=0x0;_0x3bb388<_0x3f6eef[_0x5c44('0x10')][_0x5c44('0xb')];_0x3bb388++){fill(0xd5,0x0,0x8f);noStroke();ellipse(_0x3f6eef[_0x5c44('0x10')][_0x3bb388][_0x5c44('0x12')]['x'],_0x3f6eef[_0x5c44('0x10')][_0x3bb388][_0x5c44('0x12')]['y'],0x8);}}}